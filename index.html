<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task Manager - –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É</title>
    
    <!-- –°—Ç–∏–ª–∏ -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/a.css">
    <link rel="stylesheet" href="css/auth.css">
    
    <!-- –ò–∫–æ–Ω–∫–∞ -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üîê</text></svg>">
    
    <style>
        /* –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ —Ç–æ–ª—å–∫–æ –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã */
        body {
            background-color: #d08cbe;
            margin: 0;
            padding: 0;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        .page-container {
            width: 100%;
            max-width: 600px;
            padding: 20px;
        }
        
        .logo {
            text-align: center;
            margin-bottom: 30px;
            color: white;
        }
        
        .logo h1 {
            margin: 0;
            font-size: 2.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }
        
        .logo p {
            margin-top: 10px;
            opacity: 0.8;
            font-size: 1.1rem;
        }
        
        .footer {
            text-align: center;
            margin-top: 30px;
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.9rem;
        }
    </style>
</head>
<body>
    <div class="page-container">
        <!-- –õ–æ–≥–æ—Ç–∏–ø -->
        <div class="logo">
            <h1>
                <span>üîê</span>
                Task Manager
            </h1>
            <p>–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∞–º–∏</p>
        </div>
        
        <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è -->
        <div id="app">
            <!-- –°—é–¥–∞ –±—É–¥–µ—Ç –≤—Å—Ç–∞–≤–ª–µ–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ -->
        </div>
        
        <!-- –ü–æ–¥–≤–∞–ª -->
        <div class="footer">
            <p>¬© 2024 Task Manager. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
        </div>
    </div>

    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º –Ω–∞—à–∏ —Å–∫—Ä–∏–ø—Ç—ã -->
    <script src="js/auth-in.js"></script>
    <script src="js/ui/auth-ui.js"></script>
    <script src="js/app.js"></script>
    <!-- –ü–æ—Å–ª–µ –¥—Ä—É–≥–∏—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤ -->
    <script src="js/config.js"></script>
    <script>
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏
    document.addEventListener('DOMContentLoaded', function() {
        // –°–æ–∑–¥–∞–µ–º —ç–∫–∑–µ–º–ø–ª—è—Ä AuthIntegration
        const authSystem = new AuthIntegration({
            apiBaseUrl: 'http://localhost:8000',
            
            onLoginSuccess: function(user) {
                console.log('–£—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥!', user);
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ—Å–ª–µ –≤—Ö–æ–¥–∞
                if (window.App && App.showMainInterface) {
                    App.showMainInterface({
                        username: user.email?.split('@')[0] || '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å',
                        email: user.email,
                        authMethod: user.auth_method || 'email',
                        id: user.id
                    });
                }
            },
            
            onLogout: function() {
                console.log('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã—à–µ–ª');
                // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∫ —Ñ–æ—Ä–º–µ –≤—Ö–æ–¥–∞
                if (window.App && App.showAuthInterface) {
                    App.showAuthInterface();
                }
            },
            
            onError: function(error, context) {
                console.error(`–û—à–∏–±–∫–∞ –≤ ${context}:`, error);
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—à–∏–±–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
                alert(`–û—à–∏–±–∫–∞: ${error.message}`);
            }
        });
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Å–∏—Å—Ç–µ–º—É
        authSystem.init();
        
        // –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –≤—Å–µ disabled –ø–æ–ª—è
        document.querySelectorAll('input, button').forEach(el => {
            if (el.disabled) {
                el.disabled = false;
                el.style.opacity = '1';
                el.style.cursor = 'pointer';
            }
        });
        
        // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –≥–ª–æ–±–∞–ª—å–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
        window.authSystem = authSystem;
    });
</script>
    
    <script>
        // –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Task Manager –∑–∞–≥—Ä—É–∂–µ–Ω');
        });
    </script>
    
</body>
</html>