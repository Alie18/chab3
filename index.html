<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task Manager - –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É</title>
    
    <!-- –°—Ç–∏–ª–∏ -->
    <link rel="stylesheet" href="css/style.css?v=1.3">
    <link rel="stylesheet" href="css/a.css?v=1.3">
    <link rel="stylesheet" href="css/auth.css?v=1.3">
    
    <!-- –ò–∫–æ–Ω–∫–∞ -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üîê</text></svg>">
    
    <style>
        body {
            background-color: #d08cbe;
            margin: 0;
            padding: 0;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        .page-container {
            width: 100%;
            max-width: 600px;
            padding: 20px;
        }
        
        .logo {
            text-align: center;
            margin-bottom: 30px;
            color: rgb(197, 153, 183);
        }
        
        .logo h1 {
            margin: 0;
            font-size: 2.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }
        
        .logo p {
            margin-top: 10px;
            opacity: 0.8;
            font-size: 1.1rem;
        }
        
        .footer {
            text-align: center;
            margin-top: 30px;
            color: rgba(77, 68, 74, 0.6);
            font-size: 0.9rem;
        }
    </style>
</head>
<script src="js/test-manager.js"></script>
<script>
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ—Å—Ç-–º–µ–Ω–µ–¥–∂–µ—Ä–∞
    const testManager = new TestManager();
    
    // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –≤—ã–∑–æ–≤–∞ –∏–∑ HTML
    window.submitTest = function(testId) {
        const form = document.getElementById('test-form');
        const test = App.getTests()[testId];
        
        if (!test) return;
        
        // –°–æ–±—Ä–∞—Ç—å –æ—Ç–≤–µ—Ç—ã
        const answers = [];
        test.questions.forEach((q, i) => {
            const selected = document.querySelector(`input[name="q${i}"]:checked`);
            answers[i] = selected ? parseInt(selected.value) : null;
        });
        
        // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –ª–∏ –æ—Ç–≤–µ—Ç—ã –¥–∞–Ω—ã
        const unanswered = answers.filter(a => a === null).length;
        if (unanswered > 0) {
            alert(`–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã!\n–û—Å—Ç–∞–ª–æ—Å—å: ${unanswered} –≤–æ–ø—Ä–æ—Å–æ–≤`);
            return;
        }
        
        // –ü–æ–¥—Å–≤–µ—Ç–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
        test.questions.forEach((q, i) => {
            const options = document.querySelectorAll(`input[name="q${i}"]`);
            options.forEach((opt, j) => {
                const label = opt.closest('label');
                if (label) {
                    label.classList.remove('correct', 'incorrect');
                    
                    if (j === q.correct) {
                        label.classList.add('correct');
                    } else if (answers[i] === j) {
                        label.classList.add('incorrect');
                    }
                }
            });
        });
        
        // –ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
        const correct = answers.filter((a, i) => a === test.questions[i].correct).length;
        const score = Math.round((correct / test.questions.length) * 100);
        
        const content = document.getElementById('content-area');
        content.innerHTML = `
            <div class="card results-card">
                <h2>üéâ –¢–µ—Å—Ç –∑–∞–≤–µ—Ä—à—ë–Ω!</h2>
                <div class="score">${score}%</div>
                <p>–í—ã –æ—Ç–≤–µ—Ç–∏–ª–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞ <strong>${correct}</strong> –∏–∑ <strong>${test.questions.length}</strong> –≤–æ–ø—Ä–æ—Å–æ–≤</p>
                
                <div style="margin-top: 32px;">
                    <button class="btn btn-primary" onclick="App.showSection('dashboard')">
                        üè† –ù–∞ –≥–ª–∞–≤–Ω—É—é
                    </button>
                    <button class="btn btn-secondary" onclick="App.showSection('tests')" style="margin-left: 12px;">
                        üìù –î—Ä—É–≥–∏–µ —Ç–µ—Å—Ç—ã
                    </button>
                </div>
            </div>
        `;
    };
</script>
<body>
    <div class="page-container">
        <!-- –õ–æ–≥–æ—Ç–∏–ø -->
        <div class="logo">
            <h1>
                <span>üîê</span>
                Task Manager
            </h1>
            <p>–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∞–º–∏</p>
        </div>
        
        <div id="app">
        </div>
        
        <!-- –ü–æ–¥–≤–∞–ª -->
        <div class="footer">
            <p>¬© 2026 Task Manager. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
        </div>
    </div>

    <script src="js/app.js"></script>          
    <script src="js/auth-in.js"></script>       
    <script src="js/ui/auth-ui.js"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Task Manager –∑–∞–≥—Ä—É–∂–µ–Ω');
        });
    </script>
</body>
</html>